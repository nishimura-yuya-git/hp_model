---
description: 
globs: 
alwaysApply: true
---
# ğŸ§ª åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»å“è³ªä¿è¨¼

## ãƒ†ã‚¹ãƒˆè¨­å®šãƒ»ç’°å¢ƒ

### Vitestè¨­å®š
```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: ['./src/tests/setup.ts'],
    include: ['src/**/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}'],
    exclude: ['node_modules', 'dist', 'build'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html', 'lcov'],
      exclude: [
        'node_modules/',
        'dist/',
        'build/',
        'src/tests/',
        '**/*.d.ts',
        '**/*.config.{js,ts}',
        '**/index.ts',
      ],
      thresholds: {
        global: {
          branches: 80,
          functions: 80,
          lines: 80,
          statements: 80,
        },
      },
    },
  },
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
    },
  },
});
```

### ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```typescript
// src/tests/setup.ts
import '@testing-library/jest-dom';
import { vi, beforeAll, afterEach, afterAll } from 'vitest';
import { cleanup } from '@testing-library/react';

// Supabaseã®ãƒ¢ãƒƒã‚¯
vi.mock('@/lib/supabase', () => ({
  supabase: {
    auth: {
      getSession: vi.fn(() => Promise.resolve({ data: { session: null } })),
      onAuthStateChange: vi.fn(() => ({
        data: { subscription: { unsubscribe: vi.fn() } }
      })),
      signInWithPassword: vi.fn(),
      signUp: vi.fn(),
      signOut: vi.fn(),
    },
    from: vi.fn(() => ({
      select: vi.fn(() => ({
        eq: vi.fn(() => Promise.resolve({ data: [], error: null })),
      })),
      insert: vi.fn(() => Promise.resolve({ data: null, error: null })),
      update: vi.fn(() => Promise.resolve({ data: null, error: null })),
      delete: vi.fn(() => Promise.resolve({ data: null, error: null })),
    })),
  },
}));

// ResizeObserverã®ãƒ¢ãƒƒã‚¯
global.ResizeObserver = vi.fn().mockImplementation(() => ({
  observe: vi.fn(),
  unobserve: vi.fn(),
  disconnect: vi.fn(),
}));

// IntersectionObserverã®ãƒ¢ãƒƒã‚¯
global.IntersectionObserver = vi.fn().mockImplementation(() => ({
  observe: vi.fn(),
  unobserve: vi.fn(),
  disconnect: vi.fn(),
}));

beforeAll(() => {
  // ãƒ†ã‚¹ãƒˆå‰ã®å…±é€šã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
});

afterEach(() => {
  cleanup();
  vi.clearAllMocks();
});

afterAll(() => {
  // ãƒ†ã‚¹ãƒˆå¾Œã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
});
```

## ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆä¾‹
```typescript
// src/components/ui/Button/Button.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { vi } from 'vitest';
import { Button } from './Button';

describe('Button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ', () => {
  it('åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒã§ãã‚‹', () => {
    render(<Button>ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³</Button>);
    expect(screen.getByRole('button', { name: 'ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³' })).toBeInTheDocument();
  });

  it('ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãç™ºç«ã™ã‚‹', () => {
    const handleClick = vi.fn();
    render(<Button onClick={handleClick}>ã‚¯ãƒªãƒƒã‚¯</Button>);
    
    fireEvent.click(screen.getByRole('button'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it('disabledçŠ¶æ…‹ã§ã¯ ã‚¯ãƒªãƒƒã‚¯ã§ããªã„', () => {
    const handleClick = vi.fn();
    render(<Button disabled onClick={handleClick}>ç„¡åŠ¹ãƒœã‚¿ãƒ³</Button>);
    
    fireEvent.click(screen.getByRole('button'));
    expect(handleClick).not.toHaveBeenCalled();
  });

  it('loadingçŠ¶æ…‹ã§ã¯é©åˆ‡ãªUIãŒè¡¨ç¤ºã•ã‚Œã‚‹', () => {
    render(<Button loading>ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</Button>);
    expect(screen.getByRole('button')).toBeDisabled();
    // ã‚¹ãƒ”ãƒŠãƒ¼ã®å­˜åœ¨ç¢ºèª
    expect(document.querySelector('.animate-spin')).toBeInTheDocument();
  });

  it('å„variantã§é©åˆ‡ãªã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹', () => {
    const { rerender } = render(<Button variant="primary">ãƒ—ãƒ©ã‚¤ãƒãƒª</Button>);
    expect(screen.getByRole('button')).toHaveClass('bg-gradient-to-r');
    
    rerender(<Button variant="outline">ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³</Button>);
    expect(screen.getByRole('button')).toHaveClass('border-2');
  });
});
```

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ãƒ†ã‚¹ãƒˆä¾‹
```typescript
// src/hooks/auth/useAuth.test.ts
import { renderHook, act } from '@testing-library/react';
import { vi } from 'vitest';
import { useAuth } from './useAuth';
import { AuthProvider } from '@/contexts/AuthContext';

const wrapper = ({ children }: { children: React.ReactNode }) => (
  <AuthProvider>{children}</AuthProvider>
);

describe('useAuth ãƒ•ãƒƒã‚¯', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  it('åˆæœŸçŠ¶æ…‹ã§ã¯ loading ãŒ true', () => {
    const { result } = renderHook(() => useAuth(), { wrapper });
    expect(result.current.loading).toBe(true);
    expect(result.current.user).toBe(null);
  });

  it('ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹', async () => {
    const { result } = renderHook(() => useAuth(), { wrapper });
    
    await act(async () => {
      const response = await result.current.signIn('test@example.com', 'password123');
      expect(response.error).toBe(null);
    });
  });

  it('ä¸æ­£ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹', async () => {
    const { result } = renderHook(() => useAuth(), { wrapper });
    
    await act(async () => {
      const response = await result.current.signIn('invalid-email', 'password123');
      expect(response.error).toBeTruthy();
    });
  });
});
```

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆä¾‹
```typescript
// src/tests/security.test.ts
import { describe, it, expect } from 'vitest';
import { 
  sanitizeInput, 
  detectSQLInjection, 
  detectXSS,
  schemas 
} from '@/utils/validation';

describe('ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ', () => {
  describe('å…¥åŠ›å€¤ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³', () => {
    it('HTMLã‚¿ã‚°ã‚’é™¤å»ã™ã‚‹', () => {
      const maliciousInput = '<script>alert("xss")</script>Hello';
      const sanitized = sanitizeInput(maliciousInput);
      expect(sanitized).not.toContain('<script>');
      expect(sanitized).toContain('Hello');
    });

    it('SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ”»æ’ƒã‚’æ¤œå‡ºã™ã‚‹', () => {
      const sqlAttacks = [
        "'; DROP TABLE users; --",
        "admin'--",
        "' OR '1'='1",
        "UNION SELECT * FROM users",
      ];

      sqlAttacks.forEach(attack => {
        expect(detectSQLInjection(attack)).toBe(true);
      });
    });

    it('XSSæ”»æ’ƒã‚’æ¤œå‡ºã™ã‚‹', () => {
      const xssAttacks = [
        '<script>alert("xss")</script>',
        'javascript:alert("xss")',
        '<img src="x" onerror="alert(1)">',
        '<iframe src="javascript:alert(1)"></iframe>',
      ];

      xssAttacks.forEach(attack => {
        expect(detectXSS(attack)).toBe(true);
      });
    });
  });

  describe('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³', () => {
    it('å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æ‹’å¦ã™ã‚‹', () => {
      const weakPasswords = [
        'password',
        '123456',
        'qwerty',
        'abc123',
      ];

      weakPasswords.forEach(password => {
        const result = schemas.register.safeParse({
          email: 'test@example.com',
          password,
          confirmPassword: password,
          firstName: 'Test',
          lastName: 'User',
          agreeToTerms: true,
          agreeToPrivacy: true,
        });
        expect(result.success).toBe(false);
      });
    });

    it('å¼·ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å—ã‘å…¥ã‚Œã‚‹', () => {
      const strongPassword = 'MyStr0ng!P@ssw0rd2024';
      const result = schemas.register.safeParse({
        email: 'test@example.com',
        password: strongPassword,
        confirmPassword: strongPassword,
        firstName: 'Test',
        lastName: 'User',
        agreeToTerms: true,
        agreeToPrivacy: true,
      });
      expect(result.success).toBe(true);
    });
  });
});
```

## E2Eãƒ†ã‚¹ãƒˆï¼ˆPlaywrightï¼‰

### Playwrightè¨­å®š
```typescript
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './src/tests/e2e',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: 'html',
  use: {
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
  },

  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] },
    },
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] },
    },
    {
      name: 'Mobile Safari',
      use: { ...devices['iPhone 12'] },
    },
  ],

  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: !process.env.CI,
  },
});
```

### E2Eãƒ†ã‚¹ãƒˆä¾‹
```typescript
// src/tests/e2e/auth.spec.ts
import { test, expect } from '@playwright/test';

test.describe('èªè¨¼ãƒ•ãƒ­ãƒ¼', () => {
  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã¾ã§ã®å®Œå…¨ãƒ•ãƒ­ãƒ¼', async ({ page }) => {
    // ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹
    await page.goto('/');
    
    // ç™»éŒ²ãƒšãƒ¼ã‚¸ã«ç§»å‹•
    await page.click('text=æ–°è¦ç™»éŒ²');
    await expect(page).toHaveURL('/auth/register');
    
    // ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›
    await page.fill('[data-testid=email]', 'test@example.com');
    await page.fill('[data-testid=password]', 'MyStr0ng!P@ssw0rd2024');
    await page.fill('[data-testid=confirmPassword]', 'MyStr0ng!P@ssw0rd2024');
    await page.fill('[data-testid=firstName]', 'ãƒ†ã‚¹ãƒˆ');
    await page.fill('[data-testid=lastName]', 'ãƒ¦ãƒ¼ã‚¶ãƒ¼');
    await page.check('[data-testid=agreeToTerms]');
    await page.check('[data-testid=agreeToPrivacy]');
    
    // ç™»éŒ²ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
    await page.click('[data-testid=register-button]');
    
    // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¢ºèª
    await expect(page.locator('text=ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸ')).toBeVisible();
    
    // ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•
    await page.click('text=ãƒ­ã‚°ã‚¤ãƒ³');
    await expect(page).toHaveURL('/auth/login');
    
    // ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã«å…¥åŠ›
    await page.fill('[data-testid=email]', 'test@example.com');
    await page.fill('[data-testid=password]', 'MyStr0ng!P@ssw0rd2024');
    
    // ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
    await page.click('[data-testid=login-button]');
    
    // ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
    await expect(page).toHaveURL('/dashboard');
    await expect(page.locator('text=ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰')).toBeVisible();
  });

  test('ç„¡åŠ¹ãªèªè¨¼æƒ…å ±ã§ãƒ­ã‚°ã‚¤ãƒ³ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹', async ({ page }) => {
    await page.goto('/auth/login');
    
    await page.fill('[data-testid=email]', 'invalid@example.com');
    await page.fill('[data-testid=password]', 'wrongpassword');
    await page.click('[data-testid=login-button]');
    
    await expect(page.locator('text=ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ')).toBeVisible();
  });
});
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Lighthouse CIè¨­å®š
```javascript
// .lighthouserc.js
module.exports = {
  ci: {
    collect: {
      url: ['http://localhost:3000/', 'http://localhost:3000/dashboard'],
      startServerCommand: 'npm run build && npm run preview',
      numberOfRuns: 3,
    },
    assert: {
      assertions: {
        'categories:performance': ['warn', { minScore: 0.9 }],
        'categories:accessibility': ['error', { minScore: 0.9 }],
        'categories:best-practices': ['warn', { minScore: 0.9 }],
        'categories:seo': ['warn', { minScore: 0.9 }],
        'categories:pwa': ['warn', { minScore: 0.8 }],
      },
    },
    upload: {
      target: 'temporary-public-storage',
    },
  },
};
```

## å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¿…é ˆç¢ºèªé …ç›®
```markdown
## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
- [ ] ç’°å¢ƒå¤‰æ•°ãŒé©åˆ‡ã«ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸæ©Ÿå¯†æƒ…å ±ãŒãªã„ã‹
- [ ] å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–ãŒé©åˆ‡ã‹
- [ ] XSSå¯¾ç­–ãŒé©åˆ‡ã‹
- [ ] CSRFå¯¾ç­–ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] èªè¨¼ãƒ»èªå¯ãŒé©åˆ‡ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] RLSãƒãƒªã‚·ãƒ¼ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ»å“è³ªãƒã‚§ãƒƒã‚¯
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒé©åˆ‡ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹
- [ ] E2Eãƒ†ã‚¹ãƒˆãŒä¸»è¦ãƒ•ãƒ­ãƒ¼ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã‚‹ã‹
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ80%ä»¥ä¸Šã‹
- [ ] TypeScriptå‹ãƒã‚§ãƒƒã‚¯ãŒãƒ‘ã‚¹ã™ã‚‹ã‹
- [ ] ESLintãƒ«ãƒ¼ãƒ«ã«é•åãŒãªã„ã‹
- [ ] Prettierãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»æœ€é©åŒ–ãƒã‚§ãƒƒã‚¯
- [ ] ç”»åƒãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ï¼ˆWebPæ¨å¥¨ï¼‰
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºãŒé©åˆ‡ã‹ï¼ˆ1MBä»¥ä¸‹æ¨å¥¨ï¼‰
- [ ] ã‚³ãƒ¼ãƒ‰åˆ†å‰²ãŒé©åˆ‡ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] é…å»¶èª­ã¿è¾¼ã¿ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ãŒé©åˆ‡ã‹
- [ ] Core Web VitalsãŒè‰¯å¥½ã‹
- [ ] Lighthouseã‚¹ã‚³ã‚¢ãŒ90ä»¥ä¸Šã‹

## ğŸŒ SEOãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
- [ ] ãƒ¡ã‚¿ã‚¿ã‚°ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTMLãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] altå±æ€§ãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã‹
- [ ] ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œãŒã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒé©åˆ‡ã‹
```

## CI/CDè¨­å®š

### GitHub Actionsè¨­å®š
```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    name: Test & Security Check
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
          
      - name: Install dependencies
        run: npm ci
        
      - name: Type check
        run: npm run type-check
        
      - name: Lint
        run: npm run lint
        
      - name: Format check
        run: npm run format:check
        
      - name: Unit tests
        run: npm run test:coverage
        
      - name: Security audit
        run: npm run security:audit
        
      - name: Build
        run: npm run build
        
      - name: E2E tests
        run: npx playwright install && npm run test:e2e
        
      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage/lcov.info
```

## ç¶™ç¶šçš„å“è³ªæ”¹å–„

### æŠ€è¡“çš„è² å‚µç®¡ç†
```typescript
// æŠ€è¡“çš„è² å‚µã®å®šæœŸãƒã‚§ãƒƒã‚¯é …ç›®
const TECHNICAL_DEBT_CHECKLIST = {
  weekly: [
    'ESLintè­¦å‘Šã®è§£æ¶ˆ',
    'TypeScript strictè­¦å‘Šã®è§£æ¶ˆ',
    'ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®æ”¹å–„',
    'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»',
  ],
  monthly: [
    'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¾å­˜é–¢ä¿‚ã®æ›´æ–°',
    'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã®åˆ†æ',
    'ã‚³ãƒ¼ãƒ‰ã®è¤‡é›‘åº¦æ¸¬å®š',
    'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã®æœ€é©åŒ–',
  ],
  quarterly: [
    'ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¦‹ç›´ã—',
    'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ',
    'ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ',
    'ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆã®æœ€é©åŒ–',
  ],
};
```
