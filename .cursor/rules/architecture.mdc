---
description: 
globs: 
alwaysApply: true
---
# ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»è¨­è¨ˆåŸå‰‡

## å¿…é ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆæ‹¡å¼µæ€§é‡è¦–ï¼‰

```
src/
â”œâ”€â”€ components/           # å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ui/              # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆåŸå­ãƒ¬ãƒ™ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.test.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.stories.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”œâ”€â”€ Toast/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ layout/          # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆåˆ†å­ãƒ¬ãƒ™ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”œâ”€â”€ Navigation/
â”‚   â”‚   â””â”€â”€ Layout/
â”‚   â”œâ”€â”€ features/        # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆç”Ÿä½“ãƒ¬ãƒ™ãƒ«ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”œâ”€â”€ billing/
â”‚   â”‚   â””â”€â”€ analytics/
â”‚   â””â”€â”€ common/          # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ Loading/
â”‚       â”œâ”€â”€ ErrorBoundary/
â”‚       â”œâ”€â”€ SEO/
â”‚       â””â”€â”€ ProtectedRoute/
â”œâ”€â”€ pages/               # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ï¼‰
â”‚   â”œâ”€â”€ Home/
â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”œâ”€â”€ sections/
â”‚   â”‚   â”‚   â”œâ”€â”€ HeroSection.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FeaturesSection.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CTASection.tsx
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ About/
â”‚   â”œâ”€â”€ Contact/
â”‚   â””â”€â”€ Dashboard/
â”œâ”€â”€ hooks/               # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ï¼‰
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ usePermissions.ts
â”‚   â”‚   â””â”€â”€ useProfile.ts
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ useQuery.ts
â”‚   â”‚   â”œâ”€â”€ useMutation.ts
â”‚   â”‚   â””â”€â”€ useInfiniteQuery.ts
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ useModal.ts
â”‚   â”‚   â”œâ”€â”€ useToast.ts
â”‚   â”‚   â””â”€â”€ useLocalStorage.ts
â”‚   â””â”€â”€ business/
â”‚       â”œâ”€â”€ useAnalytics.ts
â”‚       â”œâ”€â”€ useBilling.ts
â”‚       â””â”€â”€ useNotifications.ts
â”œâ”€â”€ services/            # APIã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼ˆè²¬ä»»åˆ†é›¢ï¼‰
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”œâ”€â”€ user.service.ts
â”‚   â”‚   â”œâ”€â”€ billing.service.ts
â”‚   â”‚   â””â”€â”€ analytics.service.ts
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ file.service.ts
â”‚   â”‚   â””â”€â”€ cache.service.ts
â”‚   â””â”€â”€ external/
â”‚       â”œâ”€â”€ payment.service.ts
â”‚       â””â”€â”€ email.service.ts
â”œâ”€â”€ utils/               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ï¼ˆç´”ç²‹é–¢æ•°ï¼‰
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”œâ”€â”€ validation.ts
â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”œâ”€â”€ constants.ts
â”‚   â”œâ”€â”€ helpers.ts
â”‚   â””â”€â”€ security.ts
â”œâ”€â”€ types/               # TypeScriptå‹å®šç¾©ï¼ˆå‹å®‰å…¨æ€§ï¼‰
â”‚   â”œâ”€â”€ auth.types.ts
â”‚   â”œâ”€â”€ database.types.ts  # Supabaseè‡ªå‹•ç”Ÿæˆ
â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”œâ”€â”€ ui.types.ts
â”‚   â””â”€â”€ business.types.ts
â”œâ”€â”€ store/               # çŠ¶æ…‹ç®¡ç†ï¼ˆReact Contextæ¨å¥¨ï¼‰
â”‚   â”œâ”€â”€ contexts/        # Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ AuthContext.tsx
â”‚   â”‚   â”œâ”€â”€ UIContext.tsx
â”‚   â”‚   â””â”€â”€ UserContext.tsx
â”‚   â””â”€â”€ hooks/          # çŠ¶æ…‹ç®¡ç†ç”¨ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚       â”œâ”€â”€ useSupabaseQuery.ts
â”‚       â”œâ”€â”€ useSupabaseMutation.ts
â”‚       â””â”€â”€ useLocalStorage.ts
â”œâ”€â”€ styles/              # ã‚¹ã‚¿ã‚¤ãƒ«é–¢é€£
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ components.css
â”‚   â”œâ”€â”€ animations.css
â”‚   â””â”€â”€ themes.css
â”œâ”€â”€ assets/              # é™çš„ã‚¢ã‚»ãƒƒãƒˆï¼ˆé«˜å“è³ªã®ã¿ï¼‰
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ hero/
â”‚   â”‚   â”œâ”€â”€ icons/       # SVGæ¨å¥¨ã€PNGç¦æ­¢
â”‚   â”‚   â”œâ”€â”€ backgrounds/
â”‚   â”‚   â””â”€â”€ logos/
â”‚   â”œâ”€â”€ fonts/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ videos/          # èƒŒæ™¯å‹•ç”»ãƒ»ãƒ‡ãƒ¢å‹•ç”»
â”‚   â””â”€â”€ documents/       # PDFç­‰
â”œâ”€â”€ lib/                 # å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè¨­å®šãƒ»ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”œâ”€â”€ analytics.ts
â”‚   â”œâ”€â”€ seo.ts
â”‚   â”œâ”€â”€ payments.ts
â”‚   â””â”€â”€ monitoring.ts
â”œâ”€â”€ config/              # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ env.ts
â”‚   â”œâ”€â”€ constants.ts
â”‚   â”œâ”€â”€ routes.ts
â”‚   â””â”€â”€ permissions.ts
â”œâ”€â”€ middleware/          # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”œâ”€â”€ auth.middleware.ts
â”‚   â”œâ”€â”€ logging.middleware.ts
â”‚   â””â”€â”€ error.middleware.ts
â””â”€â”€ tests/               # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
    â”œâ”€â”€ __mocks__/
    â”œâ”€â”€ components/
    â”œâ”€â”€ pages/
    â”œâ”€â”€ services/
    â”œâ”€â”€ utils/
    â”œâ”€â”€ e2e/
    â””â”€â”€ setup.ts
```

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆåŸå‰‡

### Atomic Designéšå±¤
1. **åŸå­ï¼ˆAtomsï¼‰**: `src/components/ui/` - æœ€å°å˜ä½ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
2. **åˆ†å­ï¼ˆMoleculesï¼‰**: `src/components/layout/` - åŸå­ã‚’çµ„ã¿åˆã‚ã›ãŸæ©Ÿèƒ½å˜ä½
3. **ç”Ÿä½“ï¼ˆOrganismsï¼‰**: `src/components/features/` - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚€è¤‡åˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
4. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆTemplatesï¼‰**: `src/pages/` - ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
5. **ãƒšãƒ¼ã‚¸ï¼ˆPagesï¼‰**: `src/pages/` - å®Ÿéš›ã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆãƒ«ãƒ¼ãƒ«
- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç‹¬è‡ªã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒã¤
- index.ts ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’çµ±ä¸€
- TypeScriptå‹å®šç¾©ã‚’å¿…ãšå«ã‚ã‚‹
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¿…ãšä½œæˆ
- Storybookã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ä½œæˆï¼ˆUI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰

### ã‚¤ãƒ³ãƒãƒ¼ãƒˆé †åºï¼ˆå¿…é ˆï¼‰
```typescript
// 1. Reacté–¢é€£
import React from 'react';
import { useState, useEffect } from 'react';

// 2. å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
import { clsx } from 'clsx';
import { format } from 'date-fns';

// 3. å†…éƒ¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆçµ¶å¯¾ãƒ‘ã‚¹ï¼‰
import { Button } from '@/components/ui/Button';
import { useAuth } from '@/hooks/auth/useAuth';
import { validateEmail } from '@/utils/validation';

// 4. ç›¸å¯¾ãƒ‘ã‚¹
import './Component.css';
import type { ComponentProps } from './types';
```

### Propsè¨­è¨ˆåŸå‰‡
```typescript
// âœ… æ¨å¥¨ï¼šæ˜ç¢ºãªå‹å®šç¾©
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'outline' | 'ghost';
  size: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
  className?: string;
}

// âŒ ç¦æ­¢ï¼šanyå‹ã®ä½¿ç”¨
interface BadProps {
  data: any; // NG
  config: object; // NG
}
```

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡
- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: PascalCaseï¼ˆä¾‹ï¼š`UserProfile.tsx`ï¼‰
- **ãƒ•ãƒƒã‚¯**: camelCase with use prefixï¼ˆä¾‹ï¼š`useUserData.ts`ï¼‰
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**: camelCaseï¼ˆä¾‹ï¼š`formatDate.ts`ï¼‰
- **å‹å®šç¾©**: camelCase with .types suffixï¼ˆä¾‹ï¼š`user.types.ts`ï¼‰
- **ã‚µãƒ¼ãƒ“ã‚¹**: camelCase with .service suffixï¼ˆä¾‹ï¼š`auth.service.ts`ï¼‰

### çŠ¶æ…‹ç®¡ç†æˆ¦ç•¥
- **ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹**: useState, useReducer
- **ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹**: React Context + useContext
- **ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆuseQuery, useMutationï¼‰
- **ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹**: React Hook Form
- **URLçŠ¶æ…‹**: React Router

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥
- ErrorBoundaryã§äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ
- try-catch ã§APIå‘¼ã³å‡ºã—ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†
- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’ç®¡ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
